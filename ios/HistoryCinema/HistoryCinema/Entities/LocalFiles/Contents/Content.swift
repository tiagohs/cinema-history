//
//  Content.swift
//  HistoryCinema
//
//  Created by Tiago Henrique da Silva on 21/02/21.
//

import Foundation
import ObjectMapper

class Content: BaseLocalModel {
    var type: ContentType!
    
    required init?(map: Map) {
        super.init(map: map)
    }

    override func mapping(map: Map) {
        super.mapping(map: map)
        
        type <- (map["type"], EnumTransform<ContentType>())
    }
    
    static func getContent(from dictionary: Dictionary<String, Any>, by contentType: ContentType) throws -> Content? {
        switch contentType {
        case .text:
            return ContentText(JSON: dictionary)
        case .gif:
            return ContentGif(JSON: dictionary)
        case .video:
            return ContentVideo(JSON: dictionary)
        case .slide:
            return ContentSlide(JSON: dictionary)
        case .image:
            return ContentImage(JSON: dictionary)
        case .audio_strem:
            return ContentAudioStream(JSON: dictionary)
        case .quote:
            return ContentQuote(JSON: dictionary)
        case .block_special:
            return ContentBlockSpecial(JSON: dictionary)
        case .link_screen:
            return ContentLinkScreen(JSON: dictionary)
        case .movie_list:
            return ContentMovieList(JSON: dictionary)
        case .person_list:
            return ContentPersonList(JSON: dictionary)
        case .recomendations:
            return ContentRecomendation(JSON: dictionary)
        case .awards_nominees:
            return ContentNominee(JSON: dictionary)!
        case .movie_list_special:
            return ContentMovieListSpecial(JSON: dictionary)
        }
    }
    
    static let exampleText = ContentText(JSONString: "{\n      \"type\": \"text\",\n      \"content_text\": \"O cinema criou e alimentou ao mesmo tempo, um apetite pelo espetáculo, oferecendo a oportunidade de se recriar o passado, reimaginar o presente ne visualizar o futuro. <strong>Os pioneiros</strong> dessa arte não se encontravam nem Hollywood, que na época nem sequer existia como centro de produção cinematográfica, mas sim na Europa. Entre os mais notáveis estavam os cineastas franceses <a href=\\\"https://_{\'type\': \'screen\', \'id\': 11523, \'screen_type\': \'person\'}\\\">Georges Méiles</a> (1861-1938), Charlies Pathé (1863-1957) e <a href=\\\"https://_{\'type\': \'screen\', \'id\': 1079361, \'screen_type\': \'person\'}\\\">Ferdinand Zecca</a> (1864-1947).\"\n    }")!
    
    static let exampleGif = ContentGif(JSONString: "{\n      \"type\": \"gif\",\n      \"gif_image\": {\n        \"image_type\": \"local\",\n        \"url\": \"pathe_logo\",\n        \"thumbnail\": {\n          \"image_type\": \"online\",\n          \"url\": \"https://img.youtube.com/vi/J9jBA-tZ7tU/0.jpg\",\n          \"style\": {\n            \"scale_type\": \"center_crop\"\n          }\n        },\n        \"style\": {\n          \"scale_type\": \"center_crop\"\n        }\n      },\n      \"information\": {\n        \"contentTitle\": \"Pathé Films Logo\",\n        \"contentText\": \"Logo de uma das mais importantes produtoras de cinema de todos os tempos, contendo o galo Le Coq, presente desde o começo em seus cartazes.\",\n        \"source\": \"\"\n      }\n    }")!
    
    static let exampleVideo = ContentVideo(JSONString: "{\n      \"type\": \"video\",\n      \"video_id\": \"sfI0NVC0hLU\",\n      \"information\": {\n        \"contentTitle\": \"The Kinetoscope (O Cinetoscópio)\",\n        \"contentText\": \"O Cinetoscópio é um instrumento de projeção interna de filmes inventado por William Kennedy Laurie Dickson, chefe engenheiro da Edison Laboratories de Thomas Edison, em 1891.\",\n        \"source\": \"Youtube: Canal <i>AmericanExperiencePBS</i>\"\n      }\n    }")!
    
    static let exampleQuote = ContentQuote(JSONString: "{\n      \"type\": \"quote\",\n      \"quote\": {\n        \"quote\": \"Se você já se perguntou de onde vêm os sonhos, olhe ao redor ... é aqui que eles são feitos.\",\n        \"author\": \"Georges Méliès - Hugo\"\n      },\n      \"quote_mark_color\": \"md_red_500\"\n    }")!
    
    static let exampleBlockSpecial = ContentBlockSpecial(JSONString: "{\n      \"type\": \"block_special\",\n      \"title\": \"Os Filmes em Série\",\n      \"image\": {\n        \"image_type\": \"local\",\n        \"url\": \"img_movie_serial\",\n        \"style\": {\n          \"scale_type\": \"center_crop\"\n        }\n      },\n      \"description\": \"Entre 1908 e 1920, o cinema se desenvolveu através dos chamados filmes em série ou seriados, que se tornaram a grande atração das casas de projeção. Essa inovação não era, porém, uma criação do cinema, pois na época, em especial na França, eram populares os fascículos quinzenais com histórias policiais e de aventuras, os quais se espalharam pela Europa. Foi na França, portanto, que o seriado surgiu com Nick Carter em <i>le roi des détectives</i>, em 1908, baseado nos fascículos, sob direção de <a href=\\\"https://_{type: \'screen\', \'id\': 1326133, \'screen_type\': person}\\\">Victorin Jasset</a>, diretor cheio de imaginação que muitas vezes improvisava o roteiro durante as filmagens. Mediante o sucesso da série, várias imitações foram feitas na Europa, tais como <i>Raffles</i> e <i>Sherlock Holmes na Dinamarca</i>, e <i>Nick Carter na Alemanha</i>. <br/> <br/> \\n\\nO mais famoso seriado da época, porém, foi <i>Fantômas</i>, de <i></i>Louis Feuillade, adaptado do folhetim de <i>Pierre Souvestre</i> e <i>Marcel Allain</i>. <br/> <br/> \\n\\nOs filmes em série chegaram, por volta de 1912, aos Estados Unidos da América, com <a href=\\\"https://_{type: \'screen\', \'id\': 408876, \'screen_type\': \'movie\'}\\\">What Happened to Mary?</a> (1912), co-produção do <i>Edison Studios Company</i> e da revista <i>The Ladies World</i>, o primeiro seriado estadunidense. Os seriados comumente eram acompanhados, enquanto veiculavam nos cinemas, pela mesma história em capítulos nos jornais. <br/> <br/> \\n\\nOs seriados proliferaram, apresentando suas obras primas, tais como <a href=\\\"https://_{type: \'screen\', \'id\': 285226, \'screen_type\': \'movie\'}\\\">The Million Dollar Mystery</a>(1914), produção da <strong>Thanhouser Film Corporation</strong>, que rendeu dez vezes o seu custo, e <a href=\\\"https://_{type: \'screen\', \'id\': 36821, \'screen_type\': \'movie\'}\\\">The Perils of Pauline</a>, produção Pathé / Hearst, estrelando <a href=\\\"https://_{type: \'screen\', \'id\': 1037890, \'screen_type\': person}\\\">Pearl White</a>, que logo se tornou ídolo dos jovens. <br/> <br/> \\n\\nOs seriados se tornaram muito populares entre as crianças e os jovens da primeira metade do século XX, e geralmente as sessões de cinema, inclusive no Brasil, até os anos 60, eram precedidas por um episódio de seriado, como eram conhecidos então. Posteriormente, foram adquiridos pelos canais de TV, sendo apresentados então em episódios semanais ou diários. Grande parte era de western, mas havia os mais diversos gêneros: dramas, ficção científica, espionagem, aventuras na selva, além de adaptações de livros.\",\n      \"credits\": \"Resumo baseado no texto <strong>Seriado</strong>, em <i>Wikipédia</i>\"\n    }")!
    
    static let exampleMovieList = ContentMovieList(JSONString: "{\n      \"type\": \"movie_list\",\n      \"movies\": [\n        {\n          \"vote_count\": 978,\n          \"popularity\": 15.385,\n          \"id\": 775,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"vote_average\": 8,\n          \"title\": \"A Trip to the Moon\",\n          \"release_date\": \"1902-04-17\",\n          \"original_language\": \"fr\",\n          \"original_title\": \"Le Voyage dans la Lune\",\n          \"genre_ids\": [\n            12,\n            14,\n            878\n          ],\n          \"backdrop_path\": \"\\/jeC1kzwWnZTuXl7xF4E5D70BD8c.jpg\",\n          \"adult\": false,\n          \"overview\": \"Professor Barbenfouillis and five of his colleagues from the Academy of Astronomy travel to the Moon aboard a rocket propelled by a giant cannon. Once on the lunar surface, the bold explorers face the many perils hidden in the caves of the mysterious satellite.\",\n          \"poster_path\": \"\\/aaNIFWrq6eGi259APbB5yaqBFdm.jpg\"\n        },\n        {\n          \"vote_count\": 338,\n          \"popularity\": 9.838,\n          \"id\": 5698,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"vote_average\": 7,\n          \"title\": \"The Great Train Robbery\",\n          \"release_date\": \"1903-12-07\",\n          \"original_language\": \"en\",\n          \"original_title\": \"The Great Train Robbery\",\n          \"genre_ids\": [\n            80,\n            28,\n            37\n          ],\n          \"backdrop_path\": \"\\/99uGRUGS2qxNvPARiM8dkuTrUnW.jpg\",\n          \"adult\": false,\n          \"overview\": \"The clerk at the train station is assaulted and left tied by four men, then they rob the train threatening the operator. (They) take all the money and shoot a passenger when trying to run away. A little girl discovers the clerk tied and gives notice to the sheriff, who at once goes along with his men hunting the bandits.\",\n          \"poster_path\": \"\\/uf7Hr1wuUh4T83Ifg5pVpwTqRdI.jpg\"\n        },\n        {\n          \"poster_path\": \"\\/zLiH13o01ymKj5brsfvALKLX1iJ.jpg\",\n          \"popularity\": 0.6,\n          \"vote_count\": 2,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"id\": 124043,\n          \"adult\": false,\n          \"backdrop_path\": null,\n          \"original_language\": \"fr\",\n          \"original_title\": \"À la Conquête de l\'Air\",\n          \"genre_ids\": [\n            878\n          ],\n          \"title\": \"Conquering the Skies\",\n          \"vote_average\": 4,\n          \"overview\": \"A man flies his plane \\\"Fend l\'Air\\\" over Paris.\",\n          \"release_date\": \"1906-04-01\"\n        },\n        {\n          \"poster_path\": \"\\/cDJdmESCIptAIZ3woR5qxgRlquR.jpg\",\n          \"popularity\": 1.728,\n          \"vote_count\": 8,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"id\": 129555,\n          \"adult\": false,\n          \"backdrop_path\": \"\\/3Z14R5pmLaExe1ivI1Gg1wuboHb.jpg\",\n          \"original_language\": \"mr\",\n          \"original_title\": \"Raja Harishchandra\",\n          \"genre_ids\": [\n            18,\n            36\n          ],\n          \"title\": \"Raja Harishchandra\",\n          \"vote_average\": 5.6,\n          \"overview\": \"The first feature-length Indian film is based on the legend of Raja Harishchandra, recounted in the Ramayana and Mahabharata. It revolves around the noble and righteous king, Harishchandra, who first sacrifices his kingdom, followed by his wife and eventually his children to honour his promise to the sage Vishwamitra. Though, in the end, pleased by his high morals, the Gods restore his former glory, and further bestow him with divine blessings.\",\n          \"release_date\": \"1913-04-21\"\n        },\n        {\n          \"poster_path\": \"\\/m5SabcjoTRBamf44HCGF8fbLISz.jpg\",\n          \"popularity\": 2.433,\n          \"vote_count\": 18,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"id\": 319287,\n          \"adult\": false,\n          \"backdrop_path\": \"\\/apmrRJVaWGme6C2IdWIkLyF6qDK.jpg\",\n          \"original_language\": \"fr\",\n          \"original_title\": \"Fantômas\",\n          \"genre_ids\": [\n            80,\n            18,\n            53\n          ],\n          \"title\": \"Fantômas\",\n          \"vote_average\": 6.9,\n          \"overview\": \"A French silent saga which follows the exploits and crimes of the archvillain Fantômas, who commits crimes while eluding Inspector Juve\'s tireless persecution.\",\n          \"release_date\": \"1913-05-09\"\n        },\n        {\n          \"vote_count\": 50,\n          \"popularity\": 8.593,\n          \"id\": 29082,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"vote_average\": 6.8,\n          \"title\": \"Les Vampires\",\n          \"release_date\": \"1915-11-13\",\n          \"original_language\": \"fr\",\n          \"original_title\": \"Les Vampires\",\n          \"genre_ids\": [\n            80,\n            28\n          ],\n          \"backdrop_path\": \"\\/sVEhbH5PyE36t1lMDQLzkdTKQiu.jpg\",\n          \"adult\": false,\n          \"overview\": \"Two journalists attempt to uncover the truth behind the criminal organisation, known as The Vampires, who are terrorizing Paris.\",\n          \"poster_path\": \"\\/n3nNd3219kTmMWzOQB7vp3ixsX0.jpg\"\n        },\n        {\n          \"poster_path\": \"\\/sv8LaZwJPMNUah2CurnOxmqlbS5.jpg\",\n          \"popularity\": 3.578,\n          \"vote_count\": 22,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"id\": 30266,\n          \"adult\": false,\n          \"backdrop_path\": null,\n          \"original_language\": \"en\",\n          \"original_title\": \"20,000 Leagues Under the Sea\",\n          \"genre_ids\": [\n            28,\n            12,\n            18,\n            878\n          ],\n          \"title\": \"20,000 Leagues Under the Sea\",\n          \"vote_average\": 6.1,\n          \"overview\": \"Captain Nemo has built a fantastic submarine for his mission of revenge. He has traveled over 20,000 leagues in search of Charles Denver - a man who caused the death of Princess Daaker. Seeing what he had done, Denver took the daughter to his yacht and sailed away.\",\n          \"release_date\": \"1916-12-24\"\n        },\n        {\n          \"poster_path\": \"\\/uQNsUtxDp5G3qq1a2Wc1ycjF5AL.jpg\",\n          \"popularity\": 6.509,\n          \"vote_count\": 37,\n          \"video\": false,\n          \"media_type\": \"movie\",\n          \"id\": 24805,\n          \"adult\": false,\n          \"backdrop_path\": \"\\/h8K6HH3lyyXRYCG81Bto4kyQ82r.jpg\",\n          \"original_language\": \"en\",\n          \"original_title\": \"The Ten Commandments\",\n          \"genre_ids\": [\n            18\n          ],\n          \"title\": \"The Ten Commandments\",\n          \"vote_average\": 6.8,\n          \"overview\": \"The first part tells the story of Moses leading the Jews from Egypt to the Promised Land, his receipt of the tablets and the worship of the golden calf. The second part shows the efficacy of the commandments in modern life through a story set in San Francisco. Two brothers, rivals for the love of Mary, also come into conflict when John discovers Dan used shoddy materials to construct a cathedral.\",\n          \"release_date\": \"1923-11-23\"\n        }\n      ]\n    }")!
    
    static let examplePersonList = ContentPersonList(JSONString: "{\n      \"type\": \"person_list\",\n      \"persons\": [\n        {\n          \"id\": 11523,\n          \"name\": \"Georges Méliès\",\n          \"profile_path\": \"\\/ba3Kfc01Dbigt41lyuFoZR7gmv1.jpg\"\n        },\n        {\n          \"id\": 1071403,\n          \"profile_path\": \"\\/hB02YDXjW1fIiLICsEw08TEwMsN.jpg\",\n          \"name\": \"Alice Guy-Blaché\"\n        },\n        {\n          \"id\": 44866,\n          \"profile_path\": \"\\/bTgG38TsfKSQb7MGYk8j3dusyAR.jpg\",\n          \"name\": \"Edwin S. Porter\"\n        },\n        {\n          \"id\": 102844,\n          \"profile_path\": \"\\/6pwcFyr5UI6RHYdIfO91za66tJX.jpg\",\n          \"name\": \"Louis Feuillade\"\n        },\n        {\n          \"id\": 53631,\n          \"profile_path\": \"\\/yGA3GfBYrftqLDVy613nM8JJ4Fv.jpg\",\n          \"name\": \"Dhundiraj Govind Phalke\"\n        },\n        {\n          \"id\": 68,\n          \"profile_path\": \"\\/np94pnm3x4PBjxCZ4KG5BfAib2A.jpg\",\n          \"name\": \"Fritz Lang\"\n        }\n      ]\n    }")!
    
    static let exampleLinkScreen = ContentLinkScreen(JSONString: "{\n      \"type\": \"link_screen\",\n      \"subtitle\": \"Os acontecimentos que marcaram o mundo\",\n      \"title\": \"Timeline de Acontecimentos de 1895 a 1929\",\n      \"click\": {\n        \"screen\": \"timeline\",\n        \"parameters\": [\n          {\n            \"key\": \"VIEWPAGER_INDEX\",\n            \"value\": \"0\"\n          }\n        ]\n      },\n      \"image\": {\n        \"image_type\": \"local\",\n        \"url\": \"img_timeline_poster\",\n        \"style\": {\n          \"scale_type\": \"center_crop\"\n        }\n      },\n      \"description\": \"A primeira exibição pelos irmãos Lumière, o primeiro beijo nas telonas, as invenções e descobertas, o inicio de Hollywood. Clique aqui e veja de forma cronológica os principais acontecimentos do cinema entre 1895 e 1929.\"\n    }")!
}
